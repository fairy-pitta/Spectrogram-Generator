(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{944:(e,s,t)=>{Promise.resolve().then(t.bind(t,2131))},2131:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ev});var a=t(5155),l=t(2115),n=t(2596),r=t(9688);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,n.$)(s))}let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:i("rounded-lg border bg-card text-card-foreground shadow-sm",t),...l})});o.displayName="Card";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:i("flex flex-col space-y-1.5 p-6",t),...l})});d.displayName="CardHeader";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:i("text-2xl font-semibold leading-none tracking-tight",t),...l})});c.displayName="CardTitle";let x=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:i("text-sm text-muted-foreground",t),...l})});x.displayName="CardDescription";let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:i("p-6 pt-0",t),...l})});m.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:i("flex items-center p-6 pt-0",t),...l})}).displayName="CardFooter";var h=t(9708),u=t(2085);let f=(0,u.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),g=l.forwardRef((e,s)=>{let{className:t,variant:l,size:n,asChild:r=!1,...o}=e,d=r?h.DX:"button";return(0,a.jsx)(d,{className:i(f({variant:l,size:n,className:t})),ref:s,...o})});g.displayName="Button";let b=(0,u.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function p(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{className:i(b({variant:t}),s),...l})}var j=t(8883),v=t(5517),y=t(1284),N=t(2713),w=t(4186),C=t(1539),k=t(402),S=t(9869),A=t(7330),D=t(968);let z=(0,u.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),M=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(D.b,{ref:s,className:i(z(),t),...l})});M.displayName=D.b.displayName;let R=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("textarea",{className:i("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...l})});function F(e){let{spectrogramData:s,settings:t,audioBuffer:n,annotations:r,onAnnotationsChange:i,currentTool:x,selectedAnnotation:h,onSelectedAnnotationChange:u}=e,f=(0,l.useRef)(null),[b,p]=(0,l.useState)(!1),[j,v]=(0,l.useState)(null),[y,N]=(0,l.useState)(!1),[w,C]=(0,l.useState)({x:0,y:0}),[k,S]=(0,l.useState)(!1),[A,D]=(0,l.useState)(null),[z,F]=(0,l.useState)("Annotation"),T={grayscale:["#ffffff","#e0e0e0","#c0c0c0","#a0a0a0","#808080","#606060","#404040","#202020","#000000"],viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],plasma:["#0d0887","#5302a3","#8b0aa5","#b83289","#db5c68","#f48849","#febd2a","#f0f921"],inferno:["#000004","#1b0c41","#4a0c6b","#781c6d","#a52c60","#cf4446","#ed6925","#fb9b06","#fcffa4"],magma:["#000004","#1c1044","#4f127b","#812581","#b5367a","#e55964","#fb8761","#fec287","#fcfdbf"]},L=()=>window.annotationDefaults||{text:"Annotation",color:"#ef4444",fontSize:14},B=(0,l.useCallback)(()=>{if(!s||!f.current)return;let e=f.current,a=e.getContext("2d");if(!a)return;let l=t.academicStyle?{top:50,right:70,bottom:60,left:100}:{top:20,right:20,bottom:20,left:20},i=e.width-l.left-l.right,o=e.height-l.top-l.bottom;a.fillStyle="#ffffff",a.fillRect(0,0,e.width,e.height);let d=a.createImageData(i,o),c=s.length,x=s[0].length,m=T[t.colormap];for(let e=0;e<i;e++){let a=Math.floor(e/i*c);if(!(a>=c))for(let l=0;l<o;l++){let n=Math.floor((o-l)/o*x);if(n>=x)continue;let r=s[a][n],c=t.maxDb-t.minDb,h=0,u=Math.floor(Math.max(0,Math.min(1,c>0?(r-t.minDb)/c:c<0?(t.maxDb-r)/Math.abs(c):.5))*(m.length-1)),f=Math.max(0,Math.min(m.length-1,u)),g=m[f];if(!g||"string"!=typeof g||g.length<7)continue;let b=Number.parseInt(g.slice(1,3),16),p=Number.parseInt(g.slice(3,5),16),j=Number.parseInt(g.slice(5,7),16),v=(l*i+e)*4;d.data[v]=b,d.data[v+1]=p,d.data[v+2]=j,d.data[v+3]=255}}if(a.putImageData(d,l.left,l.top),t.academicStyle){if(t.showAxes&&(a.strokeStyle="#000000",a.lineWidth=1,a.beginPath(),a.moveTo(l.left,l.top),a.lineTo(l.left,l.top+o),a.lineTo(l.left+i,l.top+o),a.stroke()),t.showGrid){a.strokeStyle="#e5e5e5",a.lineWidth=.5,a.setLineDash([2,2]);for(let e=1;e<10;e++){let s=l.left+i*e/10;a.beginPath(),a.moveTo(s,l.top),a.lineTo(s,l.top+o),a.stroke()}for(let e=1;e<10;e++){let s=l.top+o*e/10;a.beginPath(),a.moveTo(l.left,s),a.lineTo(l.left+i,s),a.stroke()}a.setLineDash([])}a.fillStyle="#374151",a.font="11px system-ui, -apple-system, sans-serif",a.textAlign="center";let s=n?n.duration:1;for(let e=0;e<=10;e++){let n=l.left+i*e/10,r=s*e/10,d="s"===t.timeUnit?r.toFixed(1):(1e3*r).toFixed(0);a.fillText(d,n,l.top+o+20),a.beginPath(),a.moveTo(n,l.top+o),a.lineTo(n,l.top+o+4),a.stroke()}a.textAlign="right",a.textBaseline="middle";for(let e=0;e<=10;e++){let s=l.top+o-o*e/10,n=t.maxFreq*e/10,r="kHz"===t.freqUnit?(n/1e3).toFixed(1):n.toFixed(0);a.fillText(r,l.left-8,s),a.beginPath(),a.moveTo(l.left-4,s),a.lineTo(l.left,s),a.stroke()}if(a.textAlign="center",a.textBaseline="middle",a.font="12px system-ui, -apple-system, sans-serif",a.fillText("Time (".concat(t.timeUnit,")"),e.width/2,l.top+o+45),a.save(),a.translate(15,e.height/2),a.rotate(-Math.PI/2),a.fillText("Frequency (".concat(t.freqUnit,")"),0,0),a.restore(),t.panelLabel){a.font="bold ".concat(t.panelLabelSize,"px system-ui, -apple-system, sans-serif"),a.fillStyle=t.panelLabelColor,a.textAlign="left",a.textBaseline="top";let e=t.panelLabelX,s=t.panelLabelY;if("custom"!==t.panelLabelPosition)switch(t.panelLabelPosition){case"top-left":e=l.left+10,s=l.top+10;break;case"top-right":e=l.left+i-30,s=l.top+10,a.textAlign="right";break;case"bottom-left":e=l.left+10,s=l.top+o-30;break;case"bottom-right":e=l.left+i-30,s=l.top+o-30,a.textAlign="right"}a.fillText(t.panelLabel,e,s)}}r.forEach(e=>{a.strokeStyle=e.color,a.fillStyle=e.color,a.lineWidth=h===e.id?2:1;let s=e.x,t=e.y;if(h===e.id&&(a.strokeStyle="#3b82f6",a.lineWidth=2,a.setLineDash([4,4]),"text"===e.type?a.strokeRect(s-3,t-3,6,6):"rectangle"===e.type&&e.width&&e.height?a.strokeRect(s-3,t-3,e.width+6,e.height+6):"line"===e.type&&void 0!==e.endX&&void 0!==e.endY?(a.strokeRect(s-3,t-3,6,6),a.strokeRect(e.endX-3,e.endY-3,6,6)):"arrow"===e.type&&void 0!==e.endX&&void 0!==e.endY&&(a.strokeRect(s-3,t-3,6,6),a.strokeRect(e.endX-3,e.endY-3,6,6)),a.setLineDash([]),a.strokeStyle=e.color,a.lineWidth=1),"text"===e.type&&e.text)a.font="".concat(e.fontSize||14,"px system-ui, -apple-system, sans-serif"),a.textAlign="left",a.textBaseline="top",a.fillText(e.text,s,t);else if("line"===e.type&&void 0!==e.endX&&void 0!==e.endY)a.beginPath(),a.moveTo(s,t),a.lineTo(e.endX,e.endY),a.stroke();else if("rectangle"===e.type&&e.width&&e.height)a.strokeRect(s,t,e.width,e.height);else if("arrow"===e.type&&void 0!==e.endX&&void 0!==e.endY){let l=e.endX,n=e.endY;a.beginPath(),a.moveTo(s,t),a.lineTo(l,n),a.stroke();let r=Math.atan2(n-t,l-s);a.beginPath(),a.moveTo(l,n),a.lineTo(l-12*Math.cos(r-Math.PI/6),n-12*Math.sin(r-Math.PI/6)),a.moveTo(l,n),a.lineTo(l-12*Math.cos(r+Math.PI/6),n-12*Math.sin(r+Math.PI/6)),a.stroke()}})},[s,t,n,r,h]),P=(0,l.useCallback)((e,s)=>{for(let t=r.length-1;t>=0;t--){let a=r[t];if("text"===a.type){if(e>=a.x-5&&e<=a.x+150&&s>=a.y-5&&s<=a.y+25)return a}else if("rectangle"===a.type&&a.width&&a.height){if(e>=a.x-5&&e<=a.x+a.width+5&&s>=a.y-5&&s<=a.y+a.height+5)return a}else if("line"===a.type&&void 0!==a.endX&&void 0!==a.endY){if(0===Math.sqrt(Math.pow(a.endX-a.x,2)+Math.pow(a.endY-a.y,2))){if(10>Math.abs(e-a.x)&&10>Math.abs(s-a.y))return a}else{let t,l;let n=e-a.x,r=s-a.y,i=a.endX-a.x,o=a.endY-a.y,d=(n*i+r*o)/(i*i+o*o);d<0?(t=a.x,l=a.y):d>1?(t=a.endX,l=a.endY):(t=a.x+d*i,l=a.y+d*o);let c=e-t,x=s-l;if(10>Math.sqrt(c*c+x*x))return a}}else if("arrow"===a.type&&void 0!==a.endX&&void 0!==a.endY){if(0===Math.sqrt(Math.pow(a.endX-a.x,2)+Math.pow(a.endY-a.y,2))){if(10>Math.abs(e-a.x)&&10>Math.abs(s-a.y))return a}else{let t,l;let n=e-a.x,r=s-a.y,i=a.endX-a.x,o=a.endY-a.y,d=(n*i+r*o)/(i*i+o*o);d<0?(t=a.x,l=a.y):d>1?(t=a.endX,l=a.endY):(t=a.x+d*i,l=a.y+d*o);let c=e-t,x=s-l;if(10>Math.sqrt(c*c+x*x)||15>Math.abs(e-a.endX)&&15>Math.abs(s-a.endY))return a}}}return null},[r]),U=(0,l.useCallback)(e=>{if(!f.current)return;let s=f.current.getBoundingClientRect(),t=f.current.width/s.width,a=f.current.height/s.height,l=(e.clientX-s.left)*t,n=(e.clientY-s.top)*a,o=P(l,n);if(o&&("select"===x||e.ctrlKey||e.metaKey)){u(o.id),N(!0),C({x:l-o.x,y:n-o.y});return}u(null),"text"===x?(D({x:l,y:n}),F(L().text),S(!0)):["line","rectangle","arrow"].includes(x)&&(b?(j&&i([...r,{...j,..."rectangle"===x?{width:l-j.x,height:n-j.y}:{endX:l,endY:n}}]),p(!1),v(null)):(v({id:Date.now().toString(),type:x,x:l,y:n,color:L().color}),p(!0)))},[x,b,j,r,i,P,u]),X=(0,l.useCallback)(e=>{if(!y||!h||!f.current)return;let s=f.current.getBoundingClientRect(),t=f.current.width/s.width,a=f.current.height/s.height,l=(e.clientX-s.left)*t,n=(e.clientY-s.top)*a,o=l-w.x,d=n-w.y;i(r.map(e=>e.id===h?{...e,x:o,y:d}:e))},[y,h,w,r,i]),Y=(0,l.useCallback)(()=>{N(!1)},[]),q=(0,l.useCallback)(()=>{if(A&&z.trim()){let e=L();i([...r,{id:Date.now().toString(),type:"text",x:A.x,y:A.y,text:z.trim(),color:e.color,fontSize:e.fontSize}])}S(!1),D(null)},[A,z,r,i]),E=(0,l.useCallback)(()=>{if(!f.current)return;let e=document.createElement("a");e.download="spectrogram_".concat(t.panelLabel||"panel",".png"),e.href=f.current.toDataURL(),e.click()},[t.panelLabel]);return(0,l.useEffect)(()=>{window.downloadSpectrogram=E},[E]),(0,l.useEffect)(()=>{B()},[B]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("canvas",{ref:f,width:1e3,height:600,className:"w-full border border-gray-200 bg-white ".concat("select"===x?"cursor-pointer":"cursor-crosshair"),onMouseDown:U,onMouseMove:X,onMouseUp:Y,onMouseLeave:Y}),b&&(0,a.jsxs)("div",{className:"absolute bottom-2 left-2 bg-white px-2 py-1 rounded shadow text-xs text-gray-600",children:["line"===x&&"Click end point for line","rectangle"===x&&"Click opposite corner","arrow"===x&&"Click end point for arrow"]}),h&&(0,a.jsx)("div",{className:"absolute bottom-2 right-2 bg-blue-50 px-2 py-1 rounded shadow text-xs text-blue-700",children:"Drag to move annotation (or use Ctrl+click to select while in drawing mode)"})]}),k&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)(o,{className:"w-full max-w-md mx-4",children:[(0,a.jsx)(d,{children:(0,a.jsx)(c,{children:"Add Text Annotation"})}),(0,a.jsxs)(m,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{htmlFor:"annotation-text",children:"Text"}),(0,a.jsx)(R,{id:"annotation-text",value:z,onChange:e=>F(e.target.value),placeholder:"Enter annotation text",rows:3,className:"mt-1"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(g,{onClick:q,className:"flex-1",children:"Add"}),(0,a.jsx)(g,{variant:"outline",onClick:()=>S(!1),className:"flex-1",children:"Cancel"})]})]})]})})]})}R.displayName="Textarea";var T=t(2473);let L=T.bL,B=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(T.B8,{ref:s,className:i("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});B.displayName=T.B8.displayName;let P=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(T.l9,{ref:s,className:i("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});P.displayName=T.l9.displayName;let U=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(T.UC,{ref:s,className:i("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});U.displayName=T.UC.displayName;var X=t(1933),Y=t(6474),q=t(7863),E=t(5196);let G=X.bL;X.YJ;let I=X.WT,V=l.forwardRef((e,s)=>{let{className:t,children:l,...n}=e;return(0,a.jsxs)(X.l9,{ref:s,className:i("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[l,(0,a.jsx)(X.In,{asChild:!0,children:(0,a.jsx)(Y.A,{className:"h-4 w-4 opacity-50"})})]})});V.displayName=X.l9.displayName;let H=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(X.PP,{ref:s,className:i("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(q.A,{className:"h-4 w-4"})})});H.displayName=X.PP.displayName;let W=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(X.wn,{ref:s,className:i("flex cursor-default items-center justify-center py-1",t),...l,children:(0,a.jsx)(Y.A,{className:"h-4 w-4"})})});W.displayName=X.wn.displayName;let _=l.forwardRef((e,s)=>{let{className:t,children:l,position:n="popper",...r}=e;return(0,a.jsx)(X.ZL,{children:(0,a.jsxs)(X.UC,{ref:s,className:i("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[(0,a.jsx)(H,{}),(0,a.jsx)(X.LM,{className:i("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,a.jsx)(W,{})]})})});_.displayName=X.UC.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(X.JU,{ref:s,className:i("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...l})}).displayName=X.JU.displayName;let O=l.forwardRef((e,s)=>{let{className:t,children:l,...n}=e;return(0,a.jsxs)(X.q7,{ref:s,className:i("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(X.VF,{children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})}),(0,a.jsx)(X.p4,{children:l})]})});O.displayName=X.q7.displayName,l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(X.wv,{ref:s,className:i("-mx-1 my-1 h-px bg-muted",t),...l})}).displayName=X.wv.displayName;var K=t(2838);let J=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsxs)(K.bL,{ref:s,className:i("relative flex w-full touch-none select-none items-center",t),...l,children:[(0,a.jsx)(K.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(K.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(K.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});function Q(e){let{title:s,children:t}=e,[n,r]=(0,l.useState)(!1),i=(0,l.useRef)(null);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g,{ref:i,variant:"ghost",size:"sm",onClick:()=>r(!n),children:(0,a.jsx)(y.A,{className:"h-4 w-4"})}),n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),(0,a.jsxs)(o,{className:"absolute top-8 right-0 z-50 w-80 shadow-lg border border-gray-200",children:[(0,a.jsx)(d,{className:"pb-2",children:(0,a.jsx)(c,{className:"text-sm",children:s})}),(0,a.jsxs)(m,{className:"text-xs space-y-2",children:[t,(0,a.jsx)(g,{size:"sm",variant:"outline",onClick:()=>r(!1),className:"w-full mt-2",children:"Close"})]})]})]})]})}function Z(e){let{settings:s,onSettingsChange:t,onRegenerate:l}=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"FFT Configuration"}),(0,a.jsxs)(Q,{title:"FFT Settings Guide",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"FFT Size:"})," Higher values provide better frequency resolution but lower time resolution."]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Window Function:"})," Reduces spectral leakage. Hann window is recommended for most applications."]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"dB Range:"})," Controls the display scale only - does not modify the audio data. Wider ranges show more detail in quiet signals."]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"FFT Size"}),(0,a.jsxs)(G,{value:s.fftSize.toString(),onValueChange:e=>t({...s,fftSize:Number.parseInt(e)}),children:[(0,a.jsx)(V,{className:"mt-1",children:(0,a.jsx)(I,{})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(O,{value:"512",children:"512 (High time resolution)"}),(0,a.jsx)(O,{value:"1024",children:"1024 (Balanced)"}),(0,a.jsx)(O,{value:"2048",children:"2048 (Recommended)"}),(0,a.jsx)(O,{value:"4096",children:"4096 (High frequency resolution)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Window Function"}),(0,a.jsxs)(G,{value:s.windowFunction,onValueChange:e=>t({...s,windowFunction:e}),children:[(0,a.jsx)(V,{className:"mt-1",children:(0,a.jsx)(I,{})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(O,{value:"hann",children:"Hann (Recommended)"}),(0,a.jsx)(O,{value:"hamming",children:"Hamming"}),(0,a.jsx)(O,{value:"rectangular",children:"Rectangular"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(M,{className:"text-sm font-medium text-gray-700",children:["dB Display Range: ",s.minDb," to ",s.maxDb," dB",s.minDb>=s.maxDb&&(0,a.jsx)("span",{className:"text-red-500 text-xs ml-2",children:"(Invalid range - min should be less than max)"})]}),(0,a.jsxs)("div",{className:"space-y-3 mt-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-xs text-gray-600",children:"Minimum dB (dark areas)"}),(0,a.jsx)(J,{value:[s.minDb],onValueChange:e=>{let[a]=e,l=Math.min(a,s.maxDb-1);t({...s,minDb:l})},min:-200,max:20,step:5,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-xs text-gray-600",children:"Maximum dB (bright areas)"}),(0,a.jsx)(J,{value:[s.maxDb],onValueChange:e=>{let[a]=e,l=Math.max(a,s.minDb+1);t({...s,maxDb:l})},min:-200,max:20,step:5,className:"mt-1"})]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-2",children:[(0,a.jsx)("div",{children:"Range: -200dB to +20dB"}),(0,a.jsx)("div",{children:"Typical ranges: Speech (-80 to 0dB), Music (-100 to 0dB), Weak signals (-150 to -50dB)"})]}),s.minDb>=s.maxDb&&(0,a.jsx)("div",{className:"text-xs text-red-600 mt-2 p-2 bg-red-50 rounded",children:"Warning: Minimum dB value should be less than maximum dB value for proper display."})]}),(0,a.jsx)(g,{onClick:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Regenerate Spectrogram"})]})}J.displayName=K.bL.displayName;var $=t(6380);let ee=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)($.bL,{className:i("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...l,ref:s,children:(0,a.jsx)($.zi,{className:i("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});ee.displayName=$.bL.displayName;var es=t(3127);function et(e){let{settings:s,onSettingsChange:t}=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(es.A,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Display Style"}),(0,a.jsxs)(Q,{title:"Style Settings Guide",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Academic Style:"})," Enables professional formatting with proper axes, labels, and grid"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Colormap:"})," Grayscale is preferred for publications, while viridis/plasma offer better perceptual uniformity"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Grid & Axes:"})," Essential for scientific presentations and measurements"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Academic paper style"}),(0,a.jsx)(ee,{checked:s.academicStyle,onCheckedChange:e=>t({...s,academicStyle:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Show grid"}),(0,a.jsx)(ee,{checked:s.showGrid,onCheckedChange:e=>t({...s,showGrid:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Show axes"}),(0,a.jsx)(ee,{checked:s.showAxes,onCheckedChange:e=>t({...s,showAxes:e})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Colormap"}),(0,a.jsxs)(G,{value:s.colormap,onValueChange:e=>t({...s,colormap:e}),children:[(0,a.jsx)(V,{className:"mt-1",children:(0,a.jsx)(I,{})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(O,{value:"grayscale",children:"Grayscale (Academic)"}),(0,a.jsx)(O,{value:"viridis",children:"Viridis"}),(0,a.jsx)(O,{value:"plasma",children:"Plasma"}),(0,a.jsx)(O,{value:"inferno",children:"Inferno"}),(0,a.jsx)(O,{value:"magma",children:"Magma"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Time Unit"}),(0,a.jsxs)(G,{value:s.timeUnit,onValueChange:e=>t({...s,timeUnit:e}),children:[(0,a.jsx)(V,{className:"mt-1",children:(0,a.jsx)(I,{})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(O,{value:"s",children:"Seconds (s)"}),(0,a.jsx)(O,{value:"ms",children:"Milliseconds (ms)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Frequency Unit"}),(0,a.jsxs)(G,{value:s.freqUnit,onValueChange:e=>t({...s,freqUnit:e}),children:[(0,a.jsx)(V,{className:"mt-1",children:(0,a.jsx)(I,{})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(O,{value:"kHz",children:"kHz"}),(0,a.jsx)(O,{value:"Hz",children:"Hz"})]})]})]})]})]})}var ea=t(5273);function el(e){let{settings:s,onSettingsChange:t}=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(ea.A,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Noise Reduction"}),(0,a.jsxs)(Q,{title:"Noise Reduction Guide",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"dB Range vs Noise Reduction:"}),(0,a.jsx)("br",{}),"• dB Range: Display scale only (no data modification)",(0,a.jsx)("br",{}),"• Noise Reduction: Actually processes and filters the data"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"For bird song analysis:"}),(0,a.jsx)("br",{}),"1. Enable noise reduction",(0,a.jsx)("br",{}),"2. Set threshold to -60dB",(0,a.jsx)("br",{}),"3. Enable signal enhancement",(0,a.jsx)("br",{}),"4. Set enhancement to +10dB"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Enable noise reduction"}),(0,a.jsx)(ee,{checked:s.noiseReduction,onCheckedChange:e=>t({...s,noiseReduction:e})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(M,{className:"text-sm font-medium text-gray-700",children:["Noise threshold: ",s.noiseThreshold," dB"]}),(0,a.jsx)(J,{value:[s.noiseThreshold],onValueChange:e=>{let[a]=e;return t({...s,noiseThreshold:a})},min:-100,max:-20,step:5,className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Signals below this level are removed"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Enable signal enhancement"}),(0,a.jsx)(ee,{checked:s.signalEnhancement,onCheckedChange:e=>t({...s,signalEnhancement:e})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(M,{className:"text-sm font-medium text-gray-700",children:["Signal boost: +",((s.contrastBoost-1)*10).toFixed(1)," dB"]}),(0,a.jsx)(J,{value:[s.contrastBoost],onValueChange:e=>{let[a]=e;return t({...s,contrastBoost:a})},min:1,max:3,step:.1,className:"mt-2"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enhancement for signals above threshold"})]})]})}let en=l.forwardRef((e,s)=>{let{className:t,type:l,...n}=e;return(0,a.jsx)("input",{type:l,className:i("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});en.displayName="Input";var er=t(4940);function ei(e){let{annotations:s,onAnnotationsChange:t,selectedAnnotation:n,onSelectedAnnotationChange:r}=e,[i,d]=(0,l.useState)("Annotation"),[c,x]=(0,l.useState)("#ef4444"),[m,h]=(0,l.useState)(14),u=s.find(e=>e.id===n),f=e=>{n&&t(s.map(s=>s.id===n?{...s,...e}:s))},b=e=>{t(s.filter(s=>s.id!==e)),n===e&&r(null)};return window.annotationDefaults={text:i,color:c,fontSize:m},(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(er.A,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Annotations"}),(0,a.jsxs)(Q,{title:"Annotation Guide",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Default Settings:"})," Set the default text, color, and size for new annotations"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Text Annotations:"})," Click anywhere on the spectrogram to add text labels"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Shapes:"})," Draw lines, rectangles, and arrows by clicking start and end points"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Editing:"})," Select annotations to modify their properties in real-time"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Colors:"})," Use high contrast colors for better visibility in publications"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Default Settings"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Default Text"}),(0,a.jsx)(en,{value:i,onChange:e=>d(e.target.value),placeholder:"Enter default annotation text",className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Default Color"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,a.jsx)(en,{type:"color",value:c,onChange:e=>x(e.target.value),className:"w-16 h-10 p-1 border"}),(0,a.jsx)(en,{type:"text",value:c,onChange:e=>x(e.target.value),className:"flex-1"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(M,{className:"text-sm font-medium text-gray-700",children:["Default Font Size: ",m,"px"]}),(0,a.jsx)(J,{value:[m],onValueChange:e=>{let[s]=e;return h(s)},min:8,max:32,step:1,className:"mt-2"})]})]})]}),u&&(0,a.jsxs)(o,{className:"p-3 border border-blue-200 bg-blue-50",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-3",children:"Edit Selected Annotation"}),(0,a.jsxs)("div",{className:"space-y-3",children:["text"===u.type&&(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Text"}),(0,a.jsx)(R,{value:u.text||"",onChange:e=>f({text:e.target.value}),rows:2,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Color"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,a.jsx)(en,{type:"color",value:u.color,onChange:e=>f({color:e.target.value}),className:"w-16 h-10 p-1 border"}),(0,a.jsx)(en,{type:"text",value:u.color,onChange:e=>f({color:e.target.value}),className:"flex-1"})]})]}),"text"===u.type&&(0,a.jsxs)("div",{children:[(0,a.jsxs)(M,{className:"text-sm font-medium text-gray-700",children:["Font Size: ",u.fontSize||14,"px"]}),(0,a.jsx)(J,{value:[u.fontSize||14],onValueChange:e=>{let[s]=e;return f({fontSize:s})},min:8,max:32,step:1,className:"mt-2"})]}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:()=>r(null),className:"flex-1",children:"Deselect"}),(0,a.jsx)(g,{variant:"destructive",size:"sm",onClick:()=>b(u.id),className:"flex-1",children:"Delete"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-900 mb-3",children:["Annotations (",s.length,")"]}),(0,a.jsxs)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[s.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded border cursor-pointer transition-colors ".concat(n===e.id?"bg-blue-50 border-blue-200":"bg-gray-50 border-gray-200 hover:bg-gray-100"),onClick:()=>r(e.id),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded border border-gray-300",style:{backgroundColor:e.color}}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-xs font-medium text-gray-900 truncate",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,a.jsx)("div",{className:"text-xs text-gray-500 truncate",children:e.text||"(".concat(Math.round(e.x),", ").concat(Math.round(e.y),")")})]})]}),(0,a.jsx)(g,{size:"sm",variant:"ghost",onClick:s=>{s.stopPropagation(),b(e.id)},className:"text-red-600 hover:text-red-700 hover:bg-red-50 ml-2",children:"\xd7"})]},e.id)),0===s.length&&(0,a.jsx)("div",{className:"text-center py-4 text-gray-500 text-sm",children:"No annotations yet. Use the tools above to add some."})]})]})]})}var eo=t(3332);function ed(e){let{settings:s,onSettingsChange:t}=e;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(eo.A,{className:"w-4 h-4 text-gray-600"}),(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Panel Label"}),(0,a.jsxs)(Q,{title:"Panel Label Guide",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Academic Standard:"})," Use A, B, C, D... for multi-panel figures in publications"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Position:"})," Top-left is most common in scientific journals. Use custom position for specific layout requirements"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Color:"})," Black (#000000) is standard for academic papers. Use high contrast colors for visibility"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Size:"})," 16-20px is recommended for publication figures. Adjust based on figure size and journal requirements"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Best Practice:"})," Keep labels consistent across all panels in a multi-panel figure"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Label Text"}),(0,a.jsx)(en,{value:s.panelLabel,onChange:e=>t({...s,panelLabel:e.target.value}),placeholder:"A, B, C...",className:"mt-1"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use A, B, C... for multi-panel figures"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Label Color"}),(0,a.jsxs)("div",{className:"flex gap-2 mt-1",children:[(0,a.jsx)(en,{type:"color",value:s.panelLabelColor,onChange:e=>t({...s,panelLabelColor:e.target.value}),className:"w-16 h-10 p-1 border"}),(0,a.jsx)(en,{type:"text",value:s.panelLabelColor,onChange:e=>t({...s,panelLabelColor:e.target.value}),className:"flex-1"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Black (#000000) is standard for academic papers"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(M,{className:"text-sm font-medium text-gray-700",children:["Font Size: ",s.panelLabelSize,"px"]}),(0,a.jsx)(J,{value:[s.panelLabelSize],onValueChange:e=>{let[a]=e;return t({...s,panelLabelSize:a})},min:8,max:48,step:1,className:"mt-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,a.jsx)("span",{children:"Small (8px)"}),(0,a.jsx)("span",{children:"Recommended: 16-20px"}),(0,a.jsx)("span",{children:"Large (48px)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700",children:"Position"}),(0,a.jsxs)(G,{value:s.panelLabelPosition,onValueChange:e=>{let a=s.panelLabelX,l=s.panelLabelY;if("custom"!==e)switch(e){case"top-left":a=10,l=10;break;case"top-right":a=900,l=10;break;case"bottom-left":a=10,l=550;break;case"bottom-right":a=900,l=550}t({...s,panelLabelPosition:e,panelLabelX:a,panelLabelY:l})},children:[(0,a.jsx)(V,{className:"mt-1",children:(0,a.jsx)(I,{})}),(0,a.jsxs)(_,{children:[(0,a.jsx)(O,{value:"top-left",children:"Top Left (Standard)"}),(0,a.jsx)(O,{value:"top-right",children:"Top Right"}),(0,a.jsx)(O,{value:"bottom-left",children:"Bottom Left"}),(0,a.jsx)(O,{value:"bottom-right",children:"Bottom Right"}),(0,a.jsx)(O,{value:"custom",children:"Custom Position"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Top-left is most common in scientific publications"})]}),"custom"===s.panelLabelPosition&&(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-3 bg-gray-50",children:[(0,a.jsx)(M,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Position"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-xs text-gray-600",children:"X Position (pixels)"}),(0,a.jsx)(en,{type:"number",value:s.panelLabelX,onChange:e=>t({...s,panelLabelX:Number.parseInt(e.target.value)||0}),className:"mt-1",min:"0",max:"1000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(M,{className:"text-xs text-gray-600",children:"Y Position (pixels)"}),(0,a.jsx)(en,{type:"number",value:s.panelLabelY,onChange:e=>t({...s,panelLabelY:Number.parseInt(e.target.value)||0}),className:"mt-1",min:"0",max:"600"})]})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Coordinates are relative to the canvas. (0,0) is top-left corner."})]})]})}function ec(e){let{settings:s,onSettingsChange:t,onRegenerate:l,annotations:n,onAnnotationsChange:r,selectedAnnotation:i,onSelectedAnnotationChange:x}=e;return(0,a.jsxs)(o,{className:"border border-gray-200 shadow-sm",children:[(0,a.jsx)(d,{className:"bg-white border-b border-gray-100",children:(0,a.jsx)(c,{className:"text-lg font-semibold text-gray-900",children:"Settings"})}),(0,a.jsx)(m,{className:"p-0",children:(0,a.jsxs)(L,{defaultValue:"fft",className:"w-full",children:[(0,a.jsxs)(B,{className:"grid w-full grid-cols-5 bg-gray-50 rounded-none",children:[(0,a.jsx)(P,{value:"fft",className:"text-xs",children:"FFT"}),(0,a.jsx)(P,{value:"style",className:"text-xs",children:"Style"}),(0,a.jsx)(P,{value:"label",className:"text-xs",children:"Label"}),(0,a.jsx)(P,{value:"noise",className:"text-xs",children:"Noise"}),(0,a.jsx)(P,{value:"annotations",className:"text-xs",children:"Notes"})]}),(0,a.jsx)(U,{value:"fft",className:"p-4",children:(0,a.jsx)(Z,{settings:s,onSettingsChange:t,onRegenerate:l})}),(0,a.jsx)(U,{value:"style",className:"p-4",children:(0,a.jsx)(et,{settings:s,onSettingsChange:t})}),(0,a.jsx)(U,{value:"label",className:"p-4",children:(0,a.jsx)(ed,{settings:s,onSettingsChange:t})}),(0,a.jsx)(U,{value:"noise",className:"p-4",children:(0,a.jsx)(el,{settings:s,onSettingsChange:t})}),(0,a.jsx)(U,{value:"annotations",className:"p-4",children:(0,a.jsx)(ei,{annotations:n,onAnnotationsChange:r,selectedAnnotation:i,onSelectedAnnotationChange:x})})]})})]})}var ex=t(4788),em=t(2103),eh=t(3500),eu=t(7712),ef=t(8979),eg=t(2138),eb=t(133),ep=t(1788);function ej(e){let{currentTool:s,onToolChange:t,onClearAnnotations:n,onDownload:r}=e,[i,x]=(0,l.useState)(!1),h=(0,l.useRef)(null);return(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(c,{className:"text-lg font-semibold text-gray-900",children:["Spectrogram","select"===s&&(0,a.jsx)("span",{className:"ml-2 text-sm font-normal text-blue-600",children:"(Select/Drag Mode)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g,{ref:h,variant:"ghost",size:"sm",onClick:()=>x(!i),children:(0,a.jsx)(ex.A,{className:"w-4 h-4"})}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>x(!1)}),(0,a.jsxs)(o,{className:"absolute top-8 right-0 z-50 w-80 shadow-lg border border-gray-200",children:[(0,a.jsx)(d,{className:"pb-2",children:(0,a.jsx)(c,{className:"text-sm text-blue-900",children:"Annotation Tools Guide"})}),(0,a.jsxs)(m,{className:"text-xs space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\uD83D\uDDB1️ Select Mode:"})," Click annotation tools twice to enter select/drag mode"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\uD83D\uDCDD Text:"})," Click to place text annotations anywhere on the canvas"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\uD83D\uDCCF Shapes:"})," Click start point, then end point to draw lines, rectangles, or arrows"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\uD83C\uDFAF Move:"})," In select mode, click and drag any annotation to reposition it"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"\uD83C\uDFA8 Customize:"}),' Use the "Notes" tab to set colors, sizes, and edit annotations']}),(0,a.jsx)(g,{size:"sm",variant:"outline",onClick:()=>x(!1),className:"w-full mt-2",children:"Close"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-1 border border-gray-200 rounded-md p-1",children:["select"===s&&(0,a.jsx)(g,{variant:"default",size:"sm",className:"bg-green-600 hover:bg-green-700",children:(0,a.jsx)(em.A,{className:"w-4 h-4"})}),(0,a.jsx)(g,{variant:"text"===s?"default":"ghost",size:"sm",onClick:()=>t("text"),className:"text"===s?"bg-blue-600 hover:bg-blue-700":"",title:"Text annotation (T)",children:(0,a.jsx)(eh.A,{className:"w-4 h-4"})}),(0,a.jsx)(g,{variant:"line"===s?"default":"ghost",size:"sm",onClick:()=>t("line"),className:"line"===s?"bg-blue-600 hover:bg-blue-700":"",title:"Draw line (L)",children:(0,a.jsx)(eu.A,{className:"w-4 h-4"})}),(0,a.jsx)(g,{variant:"rectangle"===s?"default":"ghost",size:"sm",onClick:()=>t("rectangle"),className:"rectangle"===s?"bg-blue-600 hover:bg-blue-700":"",title:"Draw rectangle (R)",children:(0,a.jsx)(ef.A,{className:"w-4 h-4"})}),(0,a.jsx)(g,{variant:"arrow"===s?"default":"ghost",size:"sm",onClick:()=>t("arrow"),className:"arrow"===s?"bg-blue-600 hover:bg-blue-700":"",title:"Draw arrow (A)",children:(0,a.jsx)(eg.A,{className:"w-4 h-4"})})]}),(0,a.jsx)(g,{variant:"outline",size:"sm",onClick:n,title:"Clear all annotations",children:(0,a.jsx)(eb.A,{className:"w-4 h-4"})}),(0,a.jsxs)(g,{onClick:r,className:"bg-green-600 hover:bg-green-700 text-white",title:"Download as PNG (Ctrl+D)",children:[(0,a.jsx)(ep.A,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})})}function ev(){let[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)(null),[r,i]=(0,l.useState)(null),[h,u]=(0,l.useState)(!1),[f,b]=(0,l.useState)(!1),[D,z]=(0,l.useState)(!1),[M,R]=(0,l.useState)({fftSize:2048,windowFunction:"hann",colormap:"grayscale",minFreq:0,maxFreq:22050,minDb:-120,maxDb:0,showGrid:!0,showAxes:!0,academicStyle:!0,timeUnit:"s",freqUnit:"kHz",panelLabel:"A",panelLabelColor:"#000000",panelLabelSize:16,panelLabelPosition:"top-left",panelLabelX:10,panelLabelY:10,noiseReduction:!0,noiseThreshold:-60,signalEnhancement:!0,contrastBoost:2}),[T,L]=(0,l.useState)([]),[B,P]=(0,l.useState)("select"),[U,X]=(0,l.useState)(null),[Y,q]=(0,l.useState)(!0),E=(0,l.useRef)(null),G=(0,l.useRef)(null),I=(0,l.useCallback)(async e=>{if(e){s(e),b(!0);try{let s=await e.arrayBuffer(),t=new AudioContext,a=await t.decodeAudioData(s);n(a),R(e=>({...e,maxFreq:a.sampleRate/2}))}catch(e){console.error("Failed to load audio file:",e),alert("Failed to load audio file. Please make sure it's a valid WAV file.")}finally{b(!1),q(!1)}}},[]),V=(0,l.useCallback)(e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];t&&I(t)},[I]),H=(0,l.useCallback)(e=>{e.preventDefault(),u(!1);let s=e.dataTransfer.files[0];s&&s.type.startsWith("audio/")&&I(s)},[I]),W=(0,l.useCallback)(e=>{e.preventDefault(),u(!0)},[]),_=(0,l.useCallback)(e=>{e.preventDefault(),u(!1)},[]),O=(0,l.useCallback)(()=>{t&&(b(!0),setTimeout(()=>{let e=t.getChannelData(0),{fftSize:s}=M,a=s/4,l=Math.floor((e.length-s)/a)+1,n=s/2,r=[];for(let t=0;t<l;t++){let l=t*a,i=new Float32Array(s);for(let t=0;t<s;t++){let a=l+t<e.length?e[l+t]:0,n=1;"hann"===M.windowFunction?n=.5*(1-Math.cos(2*Math.PI*t/(s-1))):"hamming"===M.windowFunction&&(n=.54-.46*Math.cos(2*Math.PI*t/(s-1))),i[t]=a*n}let o=K(i),d=[];for(let e=0;e<n;e++){let s=o[2*e],t=o[2*e+1],a=20*Math.log10(Math.max(Math.sqrt(s*s+t*t),1e-10));d.push(a)}r.push(d)}if(M.noiseReduction){for(let e=0;e<r.length;e++)for(let s=0;s<r[e].length;s++)if(r[e][s]<M.noiseThreshold)r[e][s]=M.minDb;else if(M.signalEnhancement){let t=r[e][s]+(M.contrastBoost-1)*10;r[e][s]=Math.min(M.maxDb,t)}}i(r),b(!1)},100))},[t,M]);(0,l.useEffect)(()=>{t&&O()},[t,O]),(0,l.useEffect)(()=>{r&&t&&O()},[M.noiseReduction,M.noiseThreshold,M.signalEnhancement,M.contrastBoost]);let K=e=>{let s=e.length,t=new Float32Array(2*s);for(let a=0;a<s;a++)t[2*a]=e[a],t[2*a+1]=0;for(let e=2;e<=s;e*=2)for(let a=0;a<s;a+=e)for(let s=0;s<e/2;s++){let l=a+s,n=a+s+e/2,r=-2*Math.PI*s/e,i=Math.cos(r),o=Math.sin(r),d=t[2*n]*i-t[2*n+1]*o,c=t[2*n]*o+t[2*n+1]*i;t[2*n]=t[2*l]-d,t[2*n+1]=t[2*l+1]-c,t[2*l]+=d,t[2*l+1]+=c}return t},J=(0,l.useCallback)(e=>{B===e?P("select"):P(e)},[B]),Q=(0,l.useCallback)(()=>{window.downloadSpectrogram&&window.downloadSpectrogram()},[]),Z=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},$=e=>{let s=Math.floor(e/60),t=(e%60).toFixed(1);return"".concat(s,":").concat(t.padStart(4,"0"))};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:(0,a.jsx)("div",{className:"container mx-auto px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-2 rounded-lg",children:(0,a.jsx)("img",{src:"https://fairy-pitta.github.io/Spectrogram-Generator/spectrogram_logo.png",alt:"Spectrogram Generator",width:"32",height:"32"})}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Spectrogram Generator"})]}),(0,a.jsx)("nav",{className:"flex items-center gap-4",children:(0,a.jsxs)(g,{variant:"outline",size:"sm",className:"border-blue-200 text-blue-600 hover:bg-blue-50",onClick:()=>window.open("https://singbirds.net/?section=contact#contact","_blank"),children:[(0,a.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Contact"]})})]})})}),(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)(o,{className:"border border-gray-200 shadow-sm",children:[e?(0,a.jsx)(d,{className:"bg-white border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>q(!Y),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c,{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)(x,{className:"text-xs text-gray-600",children:[Z(e.size)," •"," ",t?$(t.duration):"Loading..."]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{variant:"secondary",className:"bg-blue-100 text-blue-700 text-xs",children:"Ready"}),(0,a.jsx)(g,{variant:"ghost",size:"sm",children:Y?"−":"+"})]})]})}):(0,a.jsx)(d,{className:"bg-white pb-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c,{className:"text-2xl font-bold text-gray-900 mb-2",children:"Audio File Upload"}),(0,a.jsx)(x,{className:"text-gray-600",children:"Upload your audio file to get started with spectrogram analysis"})]})}),(!e||Y)&&(0,a.jsx)(m,{className:"p-8 pt-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Select Audio File"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g,{ref:G,variant:"ghost",size:"sm",onClick:()=>z(!D),children:(0,a.jsx)(y.A,{className:"h-4 w-4"})}),D&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>z(!1)}),(0,a.jsxs)(o,{className:"absolute top-8 left-0 z-50 w-80 shadow-lg border border-gray-200",children:[(0,a.jsx)(d,{className:"pb-2",children:(0,a.jsx)(c,{className:"text-sm",children:"Supported Audio Formats"})}),(0,a.jsxs)(m,{className:"text-xs space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Recommended:"})," WAV files (uncompressed, high quality)"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Sample Rate:"})," 44.1kHz or higher for best results"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Bit Depth:"})," 16-bit or 24-bit"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Channels:"})," Mono or stereo (first channel will be used)"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Max Size:"})," 100MB recommended for performance"]}),(0,a.jsx)(g,{size:"sm",variant:"outline",onClick:()=>z(!1),className:"w-full mt-2",children:"Close"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"relative border-2 border-dashed rounded-xl p-12 text-center transition-all duration-300 ".concat(h?"border-blue-400 bg-blue-50 scale-105":e?"border-blue-300 bg-blue-50":"border-gray-300 bg-gray-50 hover:border-blue-400 hover:bg-blue-50/50"),onDrop:H,onDragOver:W,onDragLeave:_,children:[(0,a.jsx)("input",{ref:E,type:"file",accept:".wav,audio/wav,audio/wave",onChange:V,className:"hidden"}),f?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"animate-spin mx-auto w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-900 font-medium",children:"Processing audio file..."}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Analyzing audio characteristics"})]})]}):e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-4 bg-blue-100 rounded-full w-20 h-20 mx-auto flex items-center justify-center",children:(0,a.jsx)(v.A,{className:"w-10 h-10 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-900 text-lg",children:e.name}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-6 mt-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)("div",{className:"p-1 bg-blue-100 rounded",children:(0,a.jsx)(N.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:Z(e.size)}),(0,a.jsx)("div",{className:"text-xs",children:"File Size"})]})]}),t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)("div",{className:"p-1 bg-blue-100 rounded",children:(0,a.jsx)(w.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:$(t.duration)}),(0,a.jsx)("div",{className:"text-xs",children:"Duration"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)("div",{className:"p-1 bg-blue-100 rounded",children:(0,a.jsx)(C.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[(t.sampleRate/1e3).toFixed(1),"kHz"]}),(0,a.jsx)("div",{className:"text-xs",children:"Sample Rate"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)("div",{className:"p-1 bg-blue-100 rounded",children:(0,a.jsx)(k.A,{className:"w-4 h-4 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[t.numberOfChannels," Channel",t.numberOfChannels>1?"s":""]}),(0,a.jsx)("div",{className:"text-xs",children:"Audio Channels"})]})]})]})]})]}),(0,a.jsx)(g,{variant:"outline",onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},className:"border-blue-300 text-blue-700 hover:bg-blue-100",children:"Choose Different File"})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-6 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full w-24 h-24 mx-auto flex items-center justify-center",children:(0,a.jsx)(S.A,{className:"w-12 h-12 text-blue-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Drop your audio file here"}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Support for WAV files up to 100MB"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Perfect for speech analysis, music research, and bioacoustic studies"})]}),(0,a.jsxs)(g,{onClick:()=>{var e;return null===(e=E.current)||void 0===e?void 0:e.click()},className:"bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white px-8 py-3 text-lg",size:"lg",children:[(0,a.jsx)(S.A,{className:"w-5 h-5 mr-3"}),"Select Audio File"]})]})]}),t&&!f&&(0,a.jsx)(g,{onClick:O,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-4 text-lg font-medium",disabled:f,size:"lg",children:f?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full mr-3"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.A,{className:"w-5 h-5 mr-3"}),"Generate Spectrogram"]})})]})})]}),!e&&(0,a.jsx)(o,{className:"border border-blue-200 bg-gradient-to-r from-blue-50 to-blue-100",children:(0,a.jsxs)(m,{className:"p-8",children:[(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-blue-900 mb-2",children:"Generate Professional Spectrograms"}),(0,a.jsx)("p",{className:"text-blue-700 text-lg",children:"Create publication-quality spectrograms with advanced analysis tools and customizable parameters"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-blue-200",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,a.jsx)(N.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Publication Quality"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Academic standard output with proper axes, labels, and scientific formatting for research papers"})]}),(0,a.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-blue-200",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,a.jsx)(A.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Advanced Controls"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Customizable FFT parameters, window functions, color maps, and noise reduction settings"})]}),(0,a.jsxs)("div",{className:"text-center p-6 bg-white rounded-lg shadow-sm border border-blue-200",children:[(0,a.jsx)("div",{className:"p-3 bg-blue-100 rounded-full w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,a.jsx)(v.A,{className:"w-8 h-8 text-blue-600"})}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"High Precision FFT"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Professional algorithms with configurable window sizes and overlap for optimal frequency resolution"})]})]})]})}),r&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"md:col-span-3",children:(0,a.jsxs)(o,{className:"border border-gray-200 shadow-sm",children:[(0,a.jsx)(d,{className:"bg-white border-b border-gray-100",children:(0,a.jsx)(ej,{currentTool:B,onToolChange:J,onClearAnnotations:()=>{L([]),X(null)},onDownload:Q})}),(0,a.jsx)(m,{className:"p-0",children:(0,a.jsx)(F,{spectrogramData:r,settings:M,audioBuffer:t,annotations:T,onAnnotationsChange:L,currentTool:B,selectedAnnotation:U,onSelectedAnnotationChange:X})})]})}),(0,a.jsx)("div",{className:"md:col-span-1",children:(0,a.jsx)(ec,{settings:M,onSettingsChange:R,onRegenerate:O,annotations:T,onAnnotationsChange:L,selectedAnnotation:U,onSelectedAnnotationChange:X})})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[917,441,684,358],()=>s(944)),_N_E=e.O()}]);